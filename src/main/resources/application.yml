server:
    port: ${PORT}
    error:
        path: /fehler
    compression:
        enabled: true
        min-response-size: 2048
endpoints:
    endpoints:
        shutdown:
            enabled: ${BLOODMONEY_DEV_TESTING}
spring:
    devtools:
        livereload:
            enabled: ${BLOODMONEY_DEV_TESTING}
    application:
        admin:
            enabled: ${BLOODMONEY_DEV_TESTING}
    datasource:
        url:  jdbc:postgresql://${BLOODMONEY_DS_HOST}:5432/${BLOODMONEY_DS_DB}
        username:  ${BLOODMONEY_DS_USR}
        password:  ${BLOODMONEY_DS_PWD}
        driver-class-name:  org.postgresql.Driver
        platform: POSTGRESQL
        initialization-mode: always
    jta:
        atomikos:
            connectionfactory:
                xa-connection-factory-class-name: org.postgresql.xa.PGXADataSource
    jpa:
        open-in-view: true
        show-sql: true
        database-platform: POSTGRESQL
        hibernate:
            #ddl-auto: create-drop update
            ddl-auto: ${BLOODMONEY_HIBERNATE_DDL_AUTO}
            naming:
                implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyJpaCompliantImpl
                physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
        properties:
            hibernate:
                dialect: org.hibernate.dialect.PostgreSQL95Dialect
                temp:
                    use_jdbc_metadata_defaults: false
                generate_statistics: true
    thymeleaf:
        cache: false
    session:
        store-type: jdbc
        jdbc:
            initialize-schema: ALWAYS
            cleanup-cron: 0 * * * *simpleworklist *
            #schema: classpath:/org/springframework/session/jdbc/schema-h2.sql
            #table-name: SPRING_SESSION
    main:
        allow-bean-definition-overriding: true
org:
    woehlke:
        bloodmoney:
            testDataHowManyTestData: 10
            dev-testing: ${BLOODMONEY_DEV_TESTING}
            user-config:
                userEmail: ${BLOODMONEY_USER_EMAIL}
                userPassword: ${BLOODMONEY_USER_PASSWORD}
                userFullname: ${BLOODMONEY_USER_FULLNAME}
            web-config:
                export-filename: "measurements.csv"
                export-filename-separator: ";"
                web-add-resource-handlers-static:
                    - "bloodmoney/"
                    - "icon/"
                    - "languages/"
                    - "test/"
                    - "favicon.ico"
                web-add-resource-handlers:
                    - "webjars/"
            web-security:
                iterations: ${BLOODMONEY_USER_INTERATIONS}
                hashWidth: ${BLOODMONEY_USER_HASH_WIDTH}
                secret: ${BLOODMONEY_USER_SECRET}
                login-processing-url: "/j_spring_security_check"
                failure-forward-url: "/login?login_error=1"
                default-success-url: "/"
                login-page: "/login"
                logout-url: "/logout"
                username-parameter: "userEmail"
                password-parameter: "userPassword"
                delete-cookies: "JSESSIONID"
                invalidate-http-session: true
                ant-matchers-fully-authenticated: "/**"
                ant-matchers-permit-all:
                    - "/bloodmoney"
                    - "/bloodmoney/**"
                    - "/icon/**"
                    - "/icon"
                    - "/languages"
                    - "/languages/**"
                    - "/favicon.ico"
                    - "/webjars/**"
                    - "/webjars"
                    - "/test*/**"
                    - "/rest"
                    - "/rest/**"
                    - "/bpm"
                    - "/login*"
                    - "/register*"
                    - "/confirm*/**"
                    - "/resetPassword*"
                    - "/passwordResetConfirm*/**"
                    - "/error*"
                    - "/fehler*"
---
#Profile dev:
spring:
    profiles: dev
    thymeleaf:
        cache: false
    devtools:
        livereload:
            enabled: true
    application:
        admin:
            enabled: false
server:
    compression:
        enabled: false
logging:
    file:
        name: bloodmoney.log
    level:
        root: WARN
        javax: INFO
        com:
            atomikos: WARN
        org:
            thymeleaf:
                dialect:
                    springdata: WARN
            apache:
                commons:
                    logging: WARN
            h2: WARN
            springframework:
                data:
                    jdbc: INFO
                    jpa: INFO
                    relational: INFO
                security:
                    web: INFO
                    context: INFO
                boot: WARN
                beans: WARN
                jdbc: WARN
                orm: WARN
                session: WARN
                test: WARN
                mock: WARN
                transaction: WARN
                jca: WARN
                web: WARN
                remoting: WARN
                http: WARN
                expression: WARN
                util: WARN
                lang: WARN
                core: WARN
                cglib: WARN
            hibernate:
                sql: INFO
                query: INFO
                mapping: INFO
                jpa: INFO
                id: INFO
                graph: INFO
                cfg: INFO
                service: INFO
                result: INFO
            ch:
                qos: INFO
            woehlke:
                bloodmoney:
                    application: DEBUG
                    config: DEBUG
                    measurements: DEBUG
                    user: DEBUG
debug: false
---
#Profile default: Production ready. Heroku with PostgreSQL
spring:
    profiles: default
    datasource:
        url:  jdbc:postgresql://${BLOODMONEY_DS_HOST}:5432/${BLOODMONEY_DS_DB}
        username:  ${BLOODMONEY_DS_USR}
        password:  ${BLOODMONEY_DS_PWD}
        driver-class-name:  org.postgresql.Driver
        platform: POSTGRESQL
        initialization-mode: always
    session:
        store-type: jdbc
        jdbc:
            initialize-schema: always
    thymeleaf:
        cache: true
    devtools:
        livereload:
            enabled: false
        add-properties: false
    application:
        admin:
            enabled: false
server:
    compression:
        enabled: true
logging:
    level:
        root: WARN
        org:
            springframework: WARN
            hibernate.SQL: INFO
            ch:
                qos: WARN
            postgresql: DEBUG
            woehlke:
                bloodmoney:
                    config: DEBUG
                    frontend:
                        api: DEBUG
                        config: DEBUG
                        controller: DEBUG
                        model: DEBUG
                    oodm:
                        entities: DEBUG
                        repositories: DEBUG
                        services:
                            impl: DEBUG
                    user:
                        config: DEBUG
                        controller: DEBUG
                        model: DEBUG
                        services:
                            impl: DEBUG
debug: false
